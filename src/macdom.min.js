/* Macdom-js Copyright (c) 2016 Vladimír Macháček | For the full copyright and license information, please view the file license.md that was distributed with this source code. */
var Macdom;(function(){"use strict";var e=function(a){var b,newArray=[];for(b of a){if(b&&b.trim().length)newArray.push(b)}return newArray},ltrim=function(a){return a?a.replace(/^\s+/,""):a},inArray=function(a,b,c){var d=b.indexOf(a);if(c)return d>=0?d:0;return d>=0},arrayKeyExists=function(a,b){return b.hasOwnProperty(a)},matchAll=function(a,b){var c,matches=[];while(c=a.exec(b)){matches.push(c)}matches=matches.length?matches:null;return matches};RegExp.quote=function(a){return(a+'').replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")};var f={},Elements={},Macros={},Replicator={},Setup;Macros.macros={};f.construct=function(){var a,element,tag,reCloseTag,skipElements=Setup.skipElements||'',ncaSkipElements=['script','style','textarea','code'];skipElements=skipElements.split(' ');this.AREA_TAG='SKIP';if(Setup.preferXhtml)Setup.closeSelfClosingTags=Setup.booleansWithValue=true;this.closeTags=[];this.outputQueue=[];this.outputStorage='';this.prevOutput=[];this.inNoCompileArea=this.skipRow=false;this.noCompileAreaClosed=true;this.skippedElementLvl=null;this.ncaSkipElements=e(ncaSkipElements.concat(skipElements));this.ncaOpenTags=[this.AREA_TAG];this.ncaCloseTags=['/'+this.AREA_TAG];a=this.ncaSkipElements.join('|');this.ncaRegExpInlineTags=[new RegExp('\<(?:'+a+') *[^>]*\>.*\<\/(?:'+a+')\>')];this.ncaRegExpOpenTags=[new RegExp('\<(?:'+a+') *[^\>]*\>')];this.ncaRegExpCloseTags=[];for(element of this.ncaSkipElements){this.ncaCloseTags.push('</'+element+'>');this.ncaOpenTags.push('<'+element+'>')}for(tag of this.ncaSkipElements){reCloseTag=new RegExp('</'+tag+'>');this.ncaRegExpCloseTags.push(reCloseTag)}};Elements.construct=function(){this.addBooleanAttributes(Setup.addBooleanAttributes);this.changeQkAttributes(Setup.changeQkAttributes);this.removeBooleanAttributes(Setup.removeBooleanAttributes);this.addElements(Setup.addElements);this.removeElements(Setup.removeElements);this.addQkAttributes(Setup.addQkAttributes)};Macros.construct=function(){var a,macros;if(Setup.addMacros){macros=Setup.addMacros;for(a in macros){this.addMacro(a,macros[a])}}this.removeMacros(Setup.removeMacros)};Replicator.construct=function(){this.REG_EXP_A=/\[(.*?)\]/g;this.REG_EXP_B=/\[@\]/;this.REG_EXP_C=/^@([\S]*)/;this.REG_EXP_D=/^\/@([\S]*)/;this.register={}};f.compile=function(a){var b,lvl,element,noCompileAreaTag,compilationAllowed,replicatorResult,processElement,txt,attributes,isJsCssLink,isJsCss,attr,type,macro;if(!a)return'';for(b of a.split("\n")){lvl=this.getLnLvl(b);element=this.getElement(b);noCompileAreaTag=this.detectNoCompileArea(b,element,lvl);compilationAllowed=!this.inNoCompileArea&&!this.skipRow&&this.noCompileAreaClosed;if(noCompileAreaTag||compilationAllowed&&!b)continue;if(Setup.structureHtmlSkeleton){lvl=inArray(element,['head','body'])?1:lvl+1;if(element==='html')lvl=0}if(compilationAllowed&&b&&!Elements.findElement(element)&&!Macros.findMacro(element)){b=b.replace(/\|$/,'');replicatorResult=Replicator.detect(lvl,element,b);if(replicatorResult.toReplicate){b=replicatorResult.toReplicate;element=this.getElement(b)}if(replicatorResult.clearLn)b=element=null}processElement=compilationAllowed&&Elements.findElement(element);txt=this.getLnTxt(b,compilationAllowed,processElement);if(processElement){attributes=this.processLn(txt);this.addOpenTag(element,lvl,attributes)}else if(txt){this.addCloseTags(lvl);isJsCssLink=this.getElement(txt);isJsCss=isJsCssLink.match(/\.((?:css|js))$/);if(compilationAllowed&&isJsCss){if(isJsCss[1]==="css"){element="link";attr="href";type='rel="stylesheet" type="text/css"'}else{element="script";attr="src";type='type="text/javascript"'}txt=this.getLnTxt(txt,true,true);txt=' '+type+' '+attr+'="'+isJsCssLink+'"'+txt;attributes=this.processLn(txt);attributes.txt=null;this.addOpenTag(element,lvl,attributes)}else{macro=compilationAllowed&&Macros.findMacro(element);a=macro?Macros.replace(element,txt):txt;type=macro?'macro':'text';this.addToQueue(type,a,lvl)}}}this.addCloseTags();this.composeContent();if(Setup.blankLine&&!this.outputStorage.match('/\n+$/'))this.outputStorage+="\n";return this.outputStorage};f.getElement=function(a){var b=a.trim().split(" ");return b[0]};f.getLnTxt=function(a,b,c){var d,find=[new RegExp(' *'+this.AREA_TAG+'(?:-CONTENT)?')],txt=ltrim(a);if(Setup.trim&&txt!==null)txt=txt.trim();c=c||false;b=b||false;if(c){txt=txt.split(' ').slice(1).join(' ');txt=' '+txt}if(b)find.push(/^\|/);if(txt){for(d of find){txt=txt.replace(d,'')}}return txt};f.getLnLvl=function(a){var b,tabulators,method=Setup.indentMethod,matches=a.match(/^\s+/)||null,whites=matches?matches[0]:"",re=new RegExp(" {"+Setup.spacesPerIndent+"}","g");b=method==='spaces'||method==='combined'?whites.match(re):0;b=b?b.length:0;tabulators=method==='tabs'||method==='combined'?whites.match(/\t/g):0;tabulators=tabulators?tabulators.length:0;if(method==='combined')tabulators*=2;return b+tabulators};f.addCloseTags=function(a){var i,lastTag=this.closeTags.length;a=a||0;for(i=lastTag-1;i>=0;i--){if(a>this.closeTags[i][0])break;this.addToQueue('closeTag',this.closeTags[i][1],this.closeTags[i][0]);lastTag=i}this.closeTags.splice(lastTag,this.closeTags.length)};f.addOpenTag=function(a,b,c){var d,withoutKey,newAttr,paramKey,selfClosing,type,closeTag,txt,attribute,elementSettings=Elements.findElement(a,true),openTag='<'+a,sQkAttributes=elementSettings.qkAttributes,qkAttributes=c.qkAttributes;if(sQkAttributes&&qkAttributes){d=[];withoutKey=0;for(attribute of qkAttributes){newAttr=null;if(attribute.key){paramKey=attribute.key-1;if(arrayKeyExists(paramKey,sQkAttributes)){newAttr=sQkAttributes[paramKey]+'="'+attribute.value+'"';d.push(paramKey)}}else if(!inArray(withoutKey,d)&&arrayKeyExists(withoutKey,sQkAttributes)){newAttr=sQkAttributes[withoutKey]+'="'+attribute.value+'"';withoutKey++}openTag+=newAttr?' '+newAttr:''}}openTag+=c.htmlAttributes+c.booleanAttributes;selfClosing=elementSettings.paired||!Setup.closeSelfClosingTags?'':' /';openTag+=selfClosing+'>';this.addCloseTags(b);type=elementSettings.paired?'openTag':'inlineTag';this.addToQueue(type,openTag,b);if(elementSettings.paired){txt=c.txt;if(txt)this.addToQueue('text',txt,b);closeTag='</'+a+'>';this.closeTags.push([b,closeTag])}};f.processLn=function(a){var i,htmlAttributes,htmlClsSelector,re,idSelector,attribute,matches,txt2array,match,paramVal,clsSelectors,qkAttributes,booleanAttributes,paramKey,txtFromTag2End;re=/ <[\w-]+ .*$/;txtFromTag2End='';if(match=a.match(re)){a=a.replace(re,'');txtFromTag2End+=match[0]}re=/ -([\w-]+)+=/g;matches=matchAll(re,a);if(matches){for(match of matches){re=new RegExp('-'+match[1]+'=');a=a.replace(re,' data-'+match[1]+'=')}}re=/ [\w:-]+="[^"]*"| [\w:-]+='[^']*'| [\w:-]+=\S+/g;matches=matchAll(re,a);htmlAttributes='';if(matches){a=a.replace(re,'');htmlAttributes=matches.join("")}re=/ #(\S+)/;idSelector=a.match(re);if(idSelector&&!htmlAttributes.match(/ id="[^"]+"|  id='[^']+'| id=[\S]+/))htmlAttributes+=' id="'+idSelector[1]+'"';if(idSelector){while(match=re.exec(a)){a=a.replace(re,'')}}re=/ \.(\S+)/g;matches=matchAll(re,a);clsSelectors='';if(matches){a=a.replace(re,'');for(match of matches){clsSelectors+=" "+match[1]}clsSelectors=ltrim(clsSelectors)}re=/ class="([^"]+)+"| class='([^']+)+'| class=([\S]+)+/;htmlClsSelector=htmlAttributes.match(re);if(clsSelectors&&htmlClsSelector){for(i=1;i<htmlClsSelector.length;i++){if(htmlClsSelector[i]){htmlClsSelector=htmlClsSelector[i];break}}htmlAttributes=htmlAttributes.replace(re,' class="'+htmlClsSelector+' '+clsSelectors+'"')}else if(clsSelectors){htmlAttributes+=' class="'+clsSelectors+'"'}re=/ ([\d]+)?\$(?:([^$;"]+);|(\S+)+)/g;qkAttributes=[];matches=matchAll(re,a);if(matches){a=a.replace(re,'');for(i=0;i<matches.length;i++){attribute=matches[i];paramVal=attribute[attribute.length-1]||attribute[attribute.length-2];if(paramVal&&paramVal.toLowerCase()!=='null'){paramKey=!isNaN(parseFloat(attribute[1]))&&isFinite(attribute[1])?attribute[1]:null;qkAttributes.push({key:paramKey,value:paramVal})}}}a=this.getLnTxt(a,true)+txtFromTag2End;txt2array=a.split(' ');booleanAttributes='';for(attribute of txt2array){if(Elements.isBoolean(attribute)){a=a.replace(attribute,'');booleanAttributes+=' '+attribute;booleanAttributes+=Setup.booleansWithValue?'="'+attribute+'"':''}else{break}}return{qkAttributes:qkAttributes,htmlAttributes:htmlAttributes,booleanAttributes:booleanAttributes,txt:a}};f.detectNoCompileArea=function(a,b,c){var d,matchedTag,tag,tagDetected,txt2array,skipContent=false,skipRow=false,skipTagClose='/'+this.AREA_TAG;a=a.trim();if(this.skipRow)this.skipRow=this.inNoCompileArea=false;d=!this.inNoCompileArea;if(d){txt2array=a.split(' ');if(txt2array[txt2array.length-1]===this.AREA_TAG&&txt2array.length>1){skipRow=true}else if(txt2array[txt2array.length-1]===this.AREA_TAG+'-CONTENT'){skipContent=true}}if(inArray(b,this.ncaSkipElements)&&(this.skippedElementLvl===null||this.skippedElementLvl!==null&&c<=this.skippedElementLvl)||skipContent){this.skippedElementLvl=c}else if(this.skippedElementLvl!==null&&c>this.skippedElementLvl||skipRow){this.skipRow=true}else{this.skippedElementLvl=null}if(!this.skippedElementLvl){if(inArray(a.trim(),this.ncaOpenTags)){this.inNoCompileArea=true}else if(inArray(a.trim(),this.ncaCloseTags)){this.inNoCompileArea=false}else{matchedTag=false;if(!this.inNoCompileArea){for(tag of this.ncaRegExpInlineTags){if(a.match(tag)){matchedTag=this.skipRow=true;break}}}if(!matchedTag&&!this.inNoCompileArea){for(tag of this.ncaRegExpOpenTags){if(a.match(tag)){matchedTag=this.inNoCompileArea=true;break}}}if(!matchedTag&&this.inNoCompileArea){for(tag of this.ncaRegExpCloseTags){if(a.match(tag)){this.skipRow=true;this.inNoCompileArea=false;break}}}}}tagDetected=a===this.AREA_TAG||a===skipTagClose;this.noCompileAreaClosed=d;return tagDetected};f.addToQueue=function(a,b,c){var d=!this.inNoCompileArea&&!this.skipRow,lastKey=this.outputQueue.length-1,contentArr={type:a,content:b,lvl:c,formatting:d};if(a==='text'&&Setup.compressText&&d&&arrayKeyExists(lastKey,this.outputQueue)&&this.outputQueue[lastKey].type==='text'&&this.outputQueue[lastKey].formatting){this.outputQueue[lastKey].content+=b;return}this.outputQueue.push(contentArr);if(a!=='text')this.composeContent()};f.composeContent=function(){var a,contentArr,lvl,nextOutputKey,nextOutputType,trio,method,indentation,lnBreak;for(a in this.outputQueue){contentArr=this.outputQueue[a];if(!Setup.compressCode){lvl=contentArr.lvl;nextOutputKey=a+1;nextOutputType=arrayKeyExists(nextOutputKey,this.outputQueue)?this.outputQueue[nextOutputKey].type:'';trio=['openTag','inlineTag','macro'];if(typeof this.prevOutput.type!=='undefined'&&(!this.prevOutput.formatting||inArray(this.prevOutput.type,['closeTag','inlineTag','macro'])||inArray(contentArr.type,trio)||contentArr.type==='closeTag'&&(this.prevOutput.type==='text'&&(!Setup.compressText||this.prev2OutputType!=='openTag'))||contentArr.type==='text'&&(!Setup.compressText||Setup.compressText&&(!contentArr.formatting||this.prevOutput.type==='openTag'&&inArray(nextOutputType,trio))))){if(contentArr.formatting&&contentArr.type==='text'){if(!Setup.compressText&&lvl===this.prevOutput.lvl&&this.prevOutput.type==='openTag'){lvl++}else if(Setup.compressText&&(this.prevOutput.type==='text'&&this.prevOutput.formatting||this.prevOutput.type==='openTag')){lvl=this.prevOutput.lvl+1}}lvl+=Setup.structureHtmlSkeleton&&lvl>0?-1:0;method=Setup.outputIndentation==='spaces'?'    ':"\t";indentation=method.repeat(lvl);lnBreak=Setup.compressCode?'':"\n";this.outputStorage+=lnBreak+indentation}this.prev2OutputType=this.prevOutput.type;this.prevOutput=contentArr}this.outputStorage+=contentArr.content}this.outputQueue=[]};Replicator.detect=function(a,b,c){var d,regLn,re,regLnKey,key=b.match(this.REG_EXP_C),clearLn=false,replacement=null;if(key){clearLn=true;c=ltrim(c).replace(key[0],'');regLnKey=arrayKeyExists(1,key)?key[1]:null;this.registerLvl(regLnKey,a,c)}d=b.match(this.REG_EXP_D);if(!d&&!key){regLn=this.isRegistered(a,b);if(regLn.ln){re=new RegExp(RegExp.quote(b));if(regLn.key)c=c.replace(re,'');replacement=this.synchronizeLines(c,regLn.ln)}}else if(d){clearLn=true;this.deregisterLvl(a,d[1])}return{clearLn:clearLn,toReplicate:replacement}};Replicator.synchronizeLines=function(a,b){var c,match,matches=matchAll(this.REG_EXP_A,a);if(matches){for(match of matches){b=b.replace(this.REG_EXP_B,match[1]);a=a.replace(match[0],'')}}a=ltrim(a.replace(this.REG_EXP_A,''));c=b.replace(this.REG_EXP_B,'');return(c+a).trim()};Replicator.deregisterLvl=function(a,b){var c=b?a+'-'+b:a+'-x';if(arrayKeyExists(c,this.register))delete this.register[c]};Replicator.isRegistered=function(a,b){var c=null,key=false;if(arrayKeyExists(a+'-'+b,this.register)){c=this.register[a+'-'+b];key=true}else if(arrayKeyExists(a+'-x',this.register)){c=this.register[a+'-x']}return{ln:c,key:key}};Replicator.registerLvl=function(a,b,c){var d=a?b+'-'+a:b+'-x';this.register[d]=c};Macros.replace=function(a,b){b=b.split(' ').slice(1).join(' ');return this.macros[a](b)};Macros.findMacro=function(a){return arrayKeyExists(a,this.macros)};Macros.addMacro=function(a,b){if(!arrayKeyExists(a,this.macros))this.macros[a]=b};Macros.removeMacros=function(a){var b;if(typeof a==='string'&&a.trim().length){a=a.split(" ");for(b of a){if(arrayKeyExists(b,this.macros))delete this.macros[b]}}};Elements.isBoolean=function(a){return inArray(a,this.booleanAttributes)};Elements.findElement=function(a,b){var c=false;if(inArray(a,this.elements))c=b?this.getElementSettings(a):true;return c};Elements.getElementSettings=function(a){var s,qkAttributes=null,paired=true,settings=this.elementsSettings;if(arrayKeyExists(a,settings)){s=settings[a];paired=!arrayKeyExists("unpaired",s);qkAttributes=arrayKeyExists("qkAttributes",s)?s.qkAttributes:null}return{element:a,paired:paired,qkAttributes:qkAttributes}};Elements.addBooleanAttributes=function(a){if(typeof a==="string"&&a.trim().length){a=a.split(" ");this.booleanAttributes=e(this.booleanAttributes.concat(a))}};Elements.removeBooleanAttributes=function(a){var b,attribute;if(typeof a==="string"&&a.trim().length){a=a.split(" ");for(attribute of a){b=inArray(attribute,this.booleanAttributes,true);if(b>=0)delete this.booleanAttributes[b]}this.booleanAttributes=e(this.booleanAttributes)}};Elements.addElements=function(a){var b,elementSettings;if(typeof a==="object"&&Object.keys(a).length){for(b in a){elementSettings=a[b];if(elementSettings)this.elementsSettings[b]=elementSettings;this.elements.push(b)}}};Elements.removeElements=function(a){var b,element;if(typeof a==="string"&&a.trim().length){a=a.split(" ");for(element of a){b=inArray(element,this.elements,true);if(b>=0)delete this.elements[b];delete this.elementsSettings[element]}}};Elements.changeQkAttributes=function(a){var b,attribute,newAttribute,attrKey,actAttribute,element,elementKey,removeAttributes=[];if(typeof a==="object"&&Object.keys(a).length){if(a&&typeof a==="object"){for(elementKey in a){element=elementKey;b=a[elementKey];for(attribute in b){actAttribute=attribute;newAttribute=b[attribute];if(arrayKeyExists(element,this.elementsSettings)&&arrayKeyExists("qkAttributes",this.elementsSettings[element])&&inArray(actAttribute,this.elementsSettings[element].qkAttributes)){if(newAttribute){attrKey=inArray(actAttribute,this.elementsSettings[element].qkAttributes,true);this.elementsSettings[element].qkAttributes[attrKey]=newAttribute}else{removeAttributes.push(actAttribute)}}}if(removeAttributes){for(attribute of removeAttributes){attrKey=inArray(attribute,this.elementsSettings[element].qkAttributes,true);delete this.elementsSettings[element].qkAttributes[attrKey]}}}}}};Elements.addQkAttributes=function(a){var b,newAttributes,attributes;if(typeof a==='object'&&Object.keys(a).length){for(b of Object.keys(a)){attributes=a[b];if(!arrayKeyExists(b,this.elementsSettings))this.elementsSettings[b]=[];if(!arrayKeyExists('qkAttributes',this.elementsSettings[b]))this.elementsSettings[b].qkAttributes=[];if(arrayKeyExists(b,this.elementsSettings)){newAttributes=attributes.split(' ');this.elementsSettings[b].qkAttributes=this.elementsSettings[b].qkAttributes.concat(newAttributes)}}}};Elements.elements=['a','abbr','address','area','article','aside','audio','b','base','bdi','bdo','blockquote','body','br','button','canvas','caption','cite','code','col','colgroup','data','datalist','dd','del','dfn','div','dl','dt','element','em','embed','fieldset','figcaption','figure','footer','form','h1','h2','h3','h4','h5','h6','head','header','hr','html','i','iframe','img','input','ins','kbd','label','legend','li','link','main','map','mark','meta','meter','nav','noframes','noscript','object','ol','optgroup','option','output','p','param','pre','progress','q','rp','rt','rtc','ruby','s','samp','script','section','select','shadow','small','source','span','strong','style','sub','sup','table','tbody','td','template','textarea','tfoot','th','thead','time','title','tr','track','u','ul','var','video','wbr','bgsound','details','dialog','hgroup','image','menu','menuitem','multicol','nobr','picture','summary'];Elements.booleanAttributes=['allowfullscreen','autofocus','autoplay','async','contenteditable','controls','default','defer','disabled','draggable','formnovalidate','hidden','checked','ismap','loop','multiple','muted','open','readonly','required','selected','spellcheck'];Elements.elementsSettings={a:{qkAttributes:['href','target','role']},abbr:{qkAttributes:['title']},area:{unpaired:true},audio:{qkAttributes:['src']},base:{unpaired:true,qkAttributes:['href']},bdo:{qkAttributes:['dir']},br:{unpaired:true},button:{qkAttributes:['type','value']},canvas:{qkAttributes:['width','height']},col:{unpaired:true,qkAttributes:['span']},data:{qkAttributes:['value']},embed:{unpaired:true,qkAttributes:['src','type','width','height']},form:{qkAttributes:['method']},hr:{unpaired:true},html:{qkAttributes:['lang']},iframe:{qkAttributes:['src','frameborder','width','height']},img:{unpaired:true,qkAttributes:['src','alt']},input:{unpaired:true,qkAttributes:['type','value','placeholder']},label:{qkAttributes:['for']},link:{unpaired:true,qkAttributes:['href','rel','title']},meta:{unpaired:true,qkAttributes:['name','content']},object:{qkAttributes:['data','type']},ol:{qkAttributes:['type','start','reversed']},optgroup:{qkAttributes:['label']},option:{qkAttributes:['value']},param:{unpaired:true,qkAttributes:['name','value']},progress:{qkAttributes:['value','max']},q:{qkAttributes:['cite']},script:{qkAttributes:['src','type']},source:{unpaired:true,qkAttributes:['src','type']},style:{qkAttributes:['type']},td:{qkAttributes:['rowspan','colspan']},textarea:{qkAttributes:['placeholder']},track:{unpaired:true,qkAttributes:['src','srclang','kind']},wbr:{unpaired:true},menu:{qkAttributes:['type','label']},menuitem:{qkAttributes:['type']}};Macros.addMacro("!5",function(){return'<!DOCTYPE html>'});Macros.addMacro('!Doctype',function(a){return'<!DOCTYPE '+a+'>'});Macros.addMacro('utf-8',function(){return'<meta charset="utf-8">'});Macros.addMacro('charset',function(a){return'<meta charset="'+a+'">'});Macros.addMacro('keywords',function(a){return'<meta name="keywords" content="'+a+'">'});Macros.addMacro('description',function(a){return'<meta name="description" content="'+a+'">'});Macros.addMacro('author',function(a){return'<meta name="author" content="'+a+'">'});Macros.addMacro('viewport',function(a){var b='<meta name="viewport" content="';b+=a.trim()?a:'width=device-width, initial-scale=1';b+='">';return b});Macros.addMacro('index-follow',function(){return'<meta name="robots" content="index, follow">'});Macros.addMacro('no-index-follow',function(){return'<meta name="robots" content="noindex, nofollow">'});Macros.addMacro('fb',function(a){var b=a.split(" "),selected=b[0],content=(a.replace(selected,'')).trim();return'<meta property="og:'+selected+'" content="'+content+'">'});Macros.addMacro('tw',function(a){var b=a.split(" "),selected=b[0],content=(a.replace(selected,'')).trim();return'<meta name="twitter:'+selected+'" content="'+content+'">'});Macros.addMacro('css',function(a){return'<link rel="stylesheet" type="text/css" href="'+a+'">'});Macros.addMacro('favicon',function(a){return'<link rel="shortcut icon" href="'+a+'">'});Macros.addMacro('js',function(a){return'<script type="text/javascript" src="'+a+'"></script>'});Macros.addMacro('js-async',function(a){return'<script type="text/javascript" src="'+a+'" async></script>'});Macros.addMacro('//',function(a){return'<!--'+a+'-->'});Macros.addMacro('/*',function(){return'<!--'});Macros.addMacro('*/',function(){return'-->'});Macdom={setup:{addBooleanAttributes:'',addElements:{},addMacros:{},addQkAttributes:{},blankLine:false,booleanAttributes:false,booleansWithValue:false,changeQkAttributes:{},closeSelfClosingTags:false,compressCode:false,compressText:false,indentMethod:'combined',outputIndentation:'tabs',preferXhtml:false,removeBooleanAttributes:'',removeElements:'',removeMacros:'',skipElements:'',spacesPerIndent:4,structureHtmlSkeleton:true,trim:'left'},compile:function(a){if(!a)return'';Setup=this.setup;f.construct();Elements.construct();Macros.construct();Replicator.construct();return f.compile(a)}};if(typeof module!=='undefined'&&module.exports!=='undefined'){module.exports=Macdom}else{window.Macdom=Macdom}}());